# OpenTelemetry Specification Compliance Requirements
# This file defines all specification requirements with their current status
# and categorization for compliance matrix generation.

version: 1.0.0
last_updated: 2025-08-15

# Status definitions follow specification/document-status.md
# - Stable: Ready for general availability
# - Beta: Stable interfaces, ready for broader usage  
# - Alpha: Ready for limited non-critical production workloads
# - Development: Not all pieces in place, not ready for production
# - Experimental: Features that may change significantly

categories:
  traces:
    name: "Traces"
    description: "OpenTelemetry Tracing API and SDK requirements"
    features:
      - id: "tracer_provider"
        name: "TracerProvider"
        description: "TracerProvider operations"
        status: "Stable"
        optional: false
        spec_url: "specification/trace/api.md#tracerprovider-operations"
        requirements:
          - id: "create_tracer_provider"
            name: "Create TracerProvider"
            status: "Stable"
            optional: false
          - id: "get_tracer"
            name: "Get a Tracer"
            status: "Stable"
            optional: false
          - id: "get_tracer_with_schema_url"
            name: "Get a Tracer with schema_url"
            status: "Stable"
            optional: false
          - id: "get_tracer_with_scope_attributes"
            name: "Get a Tracer with scope attributes"
            status: "Stable"
            optional: false
          - id: "associate_tracer_with_instrumentation_scope"
            name: "Associate Tracer with InstrumentationScope"
            status: "Stable"
            optional: false
          - id: "safe_for_concurrent_calls"
            name: "Safe for concurrent calls"
            status: "Stable"
            optional: false
          - id: "shutdown_sdk_only"
            name: "Shutdown (SDK only required)"
            status: "Stable"
            optional: false
          - id: "force_flush_sdk_only"
            name: "ForceFlush (SDK only required)"
            status: "Stable"
            optional: false

      - id: "trace_context_interaction"
        name: "Trace / Context interaction"
        description: "Interaction between trace and context APIs"
        status: "Stable"
        optional: false
        spec_url: "specification/trace/api.md#context-interaction"
        requirements:
          - id: "get_active_span"
            name: "Get active Span"
            status: "Stable"
            optional: false
          - id: "set_active_span"
            name: "Set active Span"
            status: "Stable"
            optional: false

      - id: "tracer"
        name: "Tracer"
        description: "Tracer operations"
        status: "Stable"
        optional: false
        spec_url: "specification/trace/api.md#tracer-operations"
        requirements:
          - id: "create_new_span"
            name: "Create a new Span"
            status: "Stable"
            optional: false
          - id: "documentation_adding_attributes_preferred"
            name: "Documentation defines adding attributes at span creation as preferred"
            status: "Stable"
            optional: false
          - id: "tracer_get_active_span"
            name: "Get active Span"
            status: "Stable"
            optional: false
          - id: "mark_span_active"
            name: "Mark Span active"
            status: "Stable"
            optional: false
          - id: "tracer_safe_concurrent_calls"
            name: "Safe for concurrent calls"
            status: "Stable"
            optional: false

      - id: "span_context"
        name: "SpanContext"
        description: "SpanContext operations"
        status: "Stable"
        optional: false
        spec_url: "specification/trace/api.md#spancontext"
        requirements:
          - id: "is_valid"
            name: "IsValid"
            status: "Stable"
            optional: false
          - id: "is_remote"
            name: "IsRemote"
            status: "Stable"
            optional: false
          - id: "w3c_tracecontext_spec"
            name: "Conforms to the W3C TraceContext spec"
            status: "Stable"
            optional: false

      - id: "span"
        name: "Span"
        description: "Span operations"
        status: "Stable"
        optional: false
        spec_url: "specification/trace/api.md#span"
        requirements:
          - id: "create_root_span"
            name: "Create root span"
            status: "Stable"
            optional: false
          - id: "create_with_default_parent"
            name: "Create with default parent (active span)"
            status: "Stable"
            optional: false
          - id: "create_with_parent_from_context"
            name: "Create with parent from Context"
            status: "Stable"
            optional: false
          - id: "no_explicit_parent_allowed"
            name: "No explicit parent Span/SpanContext allowed"
            status: "Stable"
            optional: false
          - id: "span_processor_onstart_receives_parent_context"
            name: "SpanProcessor.OnStart receives parent Context"
            status: "Stable"
            optional: false
          - id: "update_name"
            name: "UpdateName"
            status: "Stable"
            optional: false
          - id: "user_defined_start_timestamp"
            name: "User-defined start timestamp"
            status: "Stable"
            optional: false
          - id: "end"
            name: "End"
            status: "Stable"
            optional: false
          - id: "end_with_timestamp"
            name: "End with timestamp"
            status: "Stable"
            optional: false
          - id: "is_recording"
            name: "IsRecording"
            status: "Stable"
            optional: false
          - id: "is_recording_false_after_end"
            name: "IsRecording becomes false after End"
            status: "Stable"
            optional: false
          - id: "set_status_with_status_code"
            name: "Set status with StatusCode (Unset, Ok, Error)"
            status: "Stable"
            optional: false
          - id: "span_safe_concurrent_calls"
            name: "Safe for concurrent calls"
            status: "Stable"
            optional: false
          - id: "events_collection_size_limit"
            name: "events collection size limit"
            status: "Stable"
            optional: false
          - id: "attribute_collection_size_limit"
            name: "attribute collection size limit"
            status: "Stable"
            optional: false
          - id: "links_collection_size_limit"
            name: "links collection size limit"
            status: "Stable"
            optional: false
          - id: "span_processor_on_ending"
            name: "SpanProcessor.OnEnding"
            status: "Stable"
            optional: true
            spec_url: "specification/trace/sdk.md#onending"

      - id: "span_attributes"
        name: "Span attributes"
        description: "Setting attributes on spans"
        status: "Stable"
        optional: false
        spec_url: "specification/trace/api.md#set-attributes"
        requirements:
          - id: "set_attribute"
            name: "SetAttribute"
            status: "Stable"
            optional: false
          - id: "set_order_preserved"
            name: "Set order preserved"
            status: "Stable"
            optional: true
          - id: "string_type"
            name: "String type"
            status: "Stable"
            optional: false
          - id: "boolean_type"
            name: "Boolean type"
            status: "Stable"
            optional: false
          - id: "double_floating_point_type"
            name: "Double floating-point type"
            status: "Stable"
            optional: false
          - id: "signed_int64_type"
            name: "Signed int64 type"
            status: "Stable"
            optional: false
          - id: "array_of_primitives"
            name: "Array of primitives (homogeneous)"
            status: "Stable"
            optional: false
          - id: "null_values_documented_invalid"
            name: "`null` values documented as invalid/undefined"
            status: "Stable"
            optional: false
          - id: "unicode_support"
            name: "Unicode support for keys and string values"
            status: "Stable"
            optional: false

      - id: "span_linking"
        name: "Span linking"
        description: "Linking spans together"
        status: "Stable"
        optional: false
        spec_url: "specification/trace/api.md#specifying-links"
        requirements:
          - id: "links_on_span_creation"
            name: "Links can be recorded on span creation"
            status: "Stable"
            optional: false
          - id: "links_after_span_creation"
            name: "Links can be recorded after span creation"
            status: "Stable"
            optional: false
          - id: "links_order_preserved"
            name: "Links order is preserved"
            status: "Stable"
            optional: false

      - id: "span_events"
        name: "Span events"
        description: "Adding events to spans"
        status: "Stable"
        optional: false
        spec_url: "specification/trace/api.md#add-events"
        requirements:
          - id: "add_event"
            name: "AddEvent"
            status: "Stable"
            optional: false
          - id: "add_order_preserved"
            name: "Add order preserved"
            status: "Stable"
            optional: false
          - id: "events_safe_concurrent_calls"
            name: "Safe for concurrent calls"
            status: "Stable"
            optional: false

      - id: "span_exceptions"
        name: "Span exceptions"
        description: "Recording exceptions in spans"
        status: "Stable"
        optional: false
        spec_url: "specification/trace/api.md#record-exception"
        requirements:
          - id: "record_exception"
            name: "RecordException"
            status: "Stable"
            optional: false
          - id: "record_exception_with_extra_parameters"
            name: "RecordException with extra parameters"
            status: "Stable"
            optional: false

      - id: "sampling"
        name: "Sampling"
        description: "Trace sampling mechanisms"
        status: "Stable"
        optional: false
        spec_url: "specification/trace/sdk.md#sampling"
        requirements:
          - id: "samplers_modify_tracestate"
            name: "Allow samplers to modify tracestate"
            status: "Stable"
            optional: false
          - id: "should_sample_gets_full_parent_context"
            name: "ShouldSample gets full parent Context"
            status: "Stable"
            optional: false
          - id: "sampler_jaeger_remote_sampler"
            name: "Sampler: JaegerRemoteSampler"
            status: "Stable"
            optional: false
          - id: "new_span_id_for_non_recording_spans"
            name: "New Span ID created also for non-recording Spans"
            status: "Stable"
            optional: false
            spec_url: "specification/trace/sdk.md#sdk-span-creation"
          - id: "id_generators"
            name: "IdGenerators"
            status: "Stable"
            optional: false
            spec_url: "specification/trace/sdk.md#id-generators"
          - id: "span_limits"
            name: "SpanLimits"
            status: "Stable"
            optional: true
            spec_url: "specification/trace/sdk.md#span-limits"
          - id: "builtin_span_processors_implement_force_flush"
            name: "Built-in `SpanProcessor`s implement `ForceFlush` spec"
            status: "Stable"
            optional: false
            spec_url: "specification/trace/sdk.md#forceflush-1"
          - id: "attribute_limits"
            name: "Attribute Limits"
            status: "Stable"
            optional: true
            spec_url: "specification/common/README.md#attribute-limits"
          - id: "fetch_instrumentation_scope_from_readable_span"
            name: "Fetch InstrumentationScope from ReadableSpan"
            status: "Stable"
            optional: false
          - id: "support_w3c_trace_context_level2_randomness"
            name: "Support W3C Trace Context Level 2 randomness"
            status: "Experimental"
            optional: true
            spec_url: "specification/trace/sdk.md#traceid-randomness"
          - id: "traceid_ratio_based_sampler_th_field"
            name: "TraceIdRatioBased sampler implements OpenTelemetry tracestate `th` field"
            status: "Experimental"
            optional: true
            spec_url: "specification/trace/sdk.md#traceidratiobased"
          - id: "composite_sampler_and_composable_samplers"
            name: "CompositeSampler and built-in ComposableSamplers"
            status: "Experimental"
            optional: true
            spec_url: "specification/trace/sdk.md#compositesampler"

  baggage:
    name: "Baggage"
    description: "OpenTelemetry Baggage API requirements"
    features:
      - id: "baggage_basic"
        name: "Baggage Basic Support"
        description: "Basic baggage functionality"
        status: "Stable"
        optional: false
        requirements:
          - id: "basic_support"
            name: "Basic support"
            status: "Stable"
            optional: false
          - id: "use_official_header_name"
            name: "Use official header name `baggage`"
            status: "Stable"
            optional: false

  metrics:
    name: "Metrics"
    description: "OpenTelemetry Metrics API and SDK requirements"
    features:
      - id: "meter_provider"
        name: "MeterProvider"
        description: "MeterProvider operations"
        status: "Stable"
        optional: false
        requirements:
          - id: "global_default_meter_provider"
            name: "The API provides a way to set and get a global default `MeterProvider`"
            status: "Stable"
            optional: true
          - id: "create_multiple_meter_providers"
            name: "It is possible to create any number of `MeterProvider`s"
            status: "Stable"
            optional: true
          - id: "meter_provider_get_meter"
            name: "`MeterProvider` provides a way to get a `Meter`"
            status: "Stable"
            optional: false
          - id: "get_meter_accepts_name_version_schema_url"
            name: "`get_meter` accepts name, `version` and `schema_url`"
            status: "Stable"
            optional: false
          - id: "get_meter_accepts_attributes"
            name: "`get_meter` accepts `attributes`"
            status: "Stable"
            optional: false
          - id: "invalid_name_fallback_meter"
            name: "When an invalid `name` is specified a working `Meter` implementation is returned as a fallback"
            status: "Stable"
            optional: false
          - id: "fallback_meter_name_property"
            name: "The fallback `Meter` `name` property keeps its original invalid value"
            status: "Stable"
            optional: true
          - id: "associate_meter_with_instrumentation_scope"
            name: "Associate `Meter` with `InstrumentationScope`"
            status: "Stable"
            optional: false

      - id: "instruments"
        name: "Instruments"
        description: "Metric instrument support"
        status: "Stable"
        optional: false
        requirements:
          - id: "counter_instrument"
            name: "`Counter` instrument is supported"
            status: "Stable"
            optional: false
          - id: "asynchronous_counter_instrument"
            name: "`AsynchronousCounter` instrument is supported"
            status: "Stable"
            optional: false
          - id: "histogram_instrument"
            name: "`Histogram` instrument is supported"
            status: "Stable"
            optional: false
          - id: "asynchronous_gauge_instrument"
            name: "`AsynchronousGauge` instrument is supported"
            status: "Stable"
            optional: false
          - id: "gauge_instrument"
            name: "`Gauge` instrument is supported"
            status: "Experimental"
            optional: false
          - id: "updown_counter_instrument"
            name: "`UpDownCounter` instrument is supported"
            status: "Stable"
            optional: false
          - id: "asynchronous_updown_counter_instrument"
            name: "`AsynchronousUpDownCounter` instrument is supported"
            status: "Stable"
            optional: false

  logs:
    name: "Logs"
    description: "OpenTelemetry Logging API and SDK requirements"
    features:
      - id: "logger_provider"
        name: "LoggerProvider"
        description: "LoggerProvider operations"
        status: "Stable"
        optional: false
        spec_url: "specification/logs/sdk.md"
        requirements:
          - id: "logger_provider_get_logger"
            name: "LoggerProvider.Get Logger"
            status: "Stable"
            optional: false
          - id: "logger_provider_get_logger_accepts_attributes"
            name: "LoggerProvider.Get Logger accepts attributes"
            status: "Stable"
            optional: false
          - id: "logger_provider_shutdown"
            name: "LoggerProvider.Shutdown"
            status: "Stable"
            optional: false
          - id: "logger_provider_force_flush"
            name: "LoggerProvider.ForceFlush"
            status: "Stable"
            optional: false
          - id: "logger_emit_log_record"
            name: "Logger.Emit(LogRecord)"
            status: "Stable"
            optional: false

      - id: "log_record_processors"
        name: "LogRecord Processors"
        description: "Log record processing"
        status: "Stable"
        optional: false
        requirements:
          - id: "simple_log_record_processor"
            name: "SimpleLogRecordProcessor"
            status: "Stable"
            optional: false
          - id: "batch_log_record_processor"
            name: "BatchLogRecordProcessor"
            status: "Stable"
            optional: false
          - id: "custom_log_record_processor"
            name: "Can plug custom LogRecordProcessor"
            status: "Stable"
            optional: false

      - id: "log_record_exporters"
        name: "LogRecord Exporters"
        description: "Log record exporting"
        status: "Stable"
        optional: false
        requirements:
          - id: "otlp_grpc_exporter"
            name: "OTLP/gRPC exporter"
            status: "Stable"
            optional: false
          - id: "otlp_http_exporter"
            name: "OTLP/HTTP exporter"
            status: "Stable"
            optional: false
          - id: "otlp_file_exporter"
            name: "OTLP File exporter"
            status: "Stable"
            optional: false
          - id: "custom_log_record_exporter"
            name: "Can plug custom LogRecordExporter"
            status: "Stable"
            optional: false
          - id: "trace_context_injection"
            name: "Trace Context Injection"
            status: "Stable"
            optional: false

  resource:
    name: "Resource"
    description: "OpenTelemetry Resource requirements"
    features:
      - id: "resource_operations"
        name: "Resource Operations"
        description: "Basic resource operations"
        status: "Stable"
        optional: false
        requirements:
          - id: "create_from_attributes"
            name: "Create from Attributes"
            status: "Stable"
            optional: false
          - id: "create_empty"
            name: "Create empty"
            status: "Stable"
            optional: false
          - id: "merge_v2"
            name: "Merge (v2)"
            status: "Stable"
            optional: false
            spec_url: "specification/resource/sdk.md#merge"
          - id: "retrieve_attributes"
            name: "Retrieve attributes"
            status: "Stable"
            optional: false
          - id: "default_value_service_name"
            name: "Default value for service.name"
            status: "Stable"
            optional: false
          - id: "resource_detector_interface"
            name: "Resource detector interface/mechanism"
            status: "Stable"
            optional: false
            spec_url: "specification/resource/sdk.md#detecting-resource-information-from-the-environment"
          - id: "resource_detectors_populate_schema_url"
            name: "Resource detectors populate Schema URL"
            status: "Stable"
            optional: false
            spec_url: "specification/resource/sdk.md#detecting-resource-information-from-the-environment"

  context_propagation:
    name: "Context Propagation"
    description: "OpenTelemetry Context Propagation requirements"
    features:
      - id: "context_operations"
        name: "Context Operations"
        description: "Basic context operations"
        status: "Stable"
        optional: false
        requirements:
          - id: "create_context_key"
            name: "Create Context Key"
            status: "Stable"
            optional: false
          - id: "get_value_from_context"
            name: "Get value from Context"
            status: "Stable"
            optional: false
          - id: "set_value_for_context"
            name: "Set value for Context"
            status: "Stable"
            optional: false
          - id: "attach_context"
            name: "Attach Context"
            status: "Stable"
            optional: false
          - id: "detach_context"
            name: "Detach Context"
            status: "Stable"
            optional: false
          - id: "get_current_context"
            name: "Get current Context"
            status: "Stable"
            optional: false

      - id: "propagators"
        name: "Propagators"
        description: "Context propagator implementations"
        status: "Stable"
        optional: false
        requirements:
          - id: "composite_propagator"
            name: "Composite Propagator"
            status: "Stable"
            optional: false
          - id: "global_propagator"
            name: "Global Propagator"
            status: "Stable"
            optional: false
          - id: "trace_context_propagator"
            name: "TraceContext Propagator"
            status: "Stable"
            optional: false
          - id: "b3_propagator"
            name: "B3 Propagator"
            status: "Stable"
            optional: false
          - id: "jaeger_propagator"
            name: "Jaeger Propagator"
            status: "Stable"
            optional: false
          - id: "ot_propagator"
            name: "OT Propagator"
            status: "Stable"
            optional: false
          - id: "opencensus_binary_propagator"
            name: "OpenCensus Binary Propagator"
            status: "Stable"
            optional: false
          - id: "textmap_propagator"
            name: "TextMapPropagator"
            status: "Stable"
            optional: false
            spec_url: "specification/context/api-propagators.md#textmap-propagator"

  environment_variables:
    name: "Environment Variables"
    description: "Support for OpenTelemetry environment variables"
    features:
      - id: "env_var_support"
        name: "Environment Variable Support"
        description: "Support for standard environment variables"
        status: "Stable"
        optional: true
        note: "Support for environment variables is optional"
        requirements:
          - id: "otel_sdk_disabled"
            name: "OTEL_SDK_DISABLED"
            status: "Stable"
            optional: true
          - id: "otel_resource_attributes"
            name: "OTEL_RESOURCE_ATTRIBUTES"
            status: "Stable"
            optional: true
          - id: "otel_service_name"
            name: "OTEL_SERVICE_NAME"
            status: "Stable"
            optional: true
          - id: "otel_log_level"
            name: "OTEL_LOG_LEVEL"
            status: "Stable"
            optional: true
          - id: "otel_propagators"
            name: "OTEL_PROPAGATORS"
            status: "Stable"
            optional: true

  declarative_configuration:
    name: "Declarative Configuration"
    description: "Declarative configuration support"
    features:
      - id: "declarative_config"
        name: "Declarative Configuration"
        description: "Support for declarative configuration"
        status: "Development"
        optional: false
        spec_url: "specification/configuration/README.md#declarative-configuration"
        note: "Declarative configuration is currently in Development status - work in progress"
        requirements:
          - id: "parse_configuration_file"
            name: "`Parse` a configuration file"
            status: "Development"
            optional: false
          - id: "parse_yaml_format"
            name: "The `Parse` operation accepts the configuration YAML file format"
            status: "Development"
            optional: false
          - id: "environment_variable_substitution"
            name: "The `Parse` operation performs environment variable substitution"
            status: "Development"
            optional: false
          - id: "create_sdk_components"
            name: "`Create` SDK components"
            status: "Development"
            optional: false

  exporters:
    name: "Exporters"
    description: "OpenTelemetry exporter implementations"
    features:
      - id: "otlp_exporters"
        name: "OTLP Exporters"
        description: "OpenTelemetry Protocol exporters"
        status: "Stable"
        optional: false
        spec_url: "specification/protocol/otlp.md"
        requirements:
          - id: "otlp_grpc_exporter"
            name: "OTLP/gRPC Exporter"
            status: "Stable"
            optional: false
          - id: "otlp_http_binary_protobuf_exporter"
            name: "OTLP/HTTP binary Protobuf Exporter"
            status: "Stable"
            optional: false
          - id: "otlp_http_json_protobuf_exporter"
            name: "OTLP/HTTP JSON Protobuf Exporter"
            status: "Stable"
            optional: false
          - id: "otlp_http_gzip_content_encoding"
            name: "OTLP/HTTP gzip Content-Encoding support"
            status: "Stable"
            optional: true

      - id: "zipkin_exporters"
        name: "Zipkin Exporters"
        description: "Zipkin format exporters"
        status: "Stable"
        optional: false
        spec_url: "specification/trace/sdk_exporters/zipkin.md"
        requirements:
          - id: "zipkin_v1_json"
            name: "Zipkin V1 JSON"
            status: "Stable"
            optional: true
          - id: "zipkin_v1_thrift"
            name: "Zipkin V1 Thrift"
            status: "Stable"
            optional: true
          - id: "zipkin_v2_json"
            name: "Zipkin V2 JSON"
            status: "Stable"
            optional: false
          - id: "zipkin_v2_protobuf"
            name: "Zipkin V2 Protobuf"
            status: "Stable"
            optional: false

      - id: "prometheus_exporters"
        name: "Prometheus Exporters"
        description: "Prometheus format exporters"
        status: "Stable"
        optional: false
        requirements:
          - id: "prometheus_metadata_deduplication"
            name: "Metadata Deduplication"
            status: "Stable"
            optional: false
            spec_url: "specification/compatibility/prometheus_and_openmetrics.md#metric-metadata-1"
          - id: "prometheus_name_sanitization"
            name: "Name Sanitization"
            status: "Stable"
            optional: false
            spec_url: "specification/compatibility/prometheus_and_openmetrics.md#metric-metadata-1"

  compatibility:
    name: "Compatibility"
    description: "Compatibility with other observability systems"
    features:
      - id: "opencensus_compatibility"
        name: "OpenCensus Compatibility"
        description: "Compatibility with OpenCensus"
        status: "Stable"
        optional: false
        spec_url: "specification/compatibility/opencensus.md"
        requirements:
          - id: "opencensus_trace_bridge"
            name: "Trace Bridge"
            status: "Stable"
            optional: false
            spec_url: "specification/compatibility/opencensus.md#trace-bridge"
          - id: "opencensus_metric_bridge"
            name: "Metric Bridge"
            status: "Stable"
            optional: false
            spec_url: "specification/compatibility/opencensus.md#metrics--stats"

      - id: "opentracing_compatibility"
        name: "OpenTracing Compatibility"
        description: "Compatibility with OpenTracing"
        status: "Stable"
        optional: false
        spec_url: "specification/compatibility/opentracing.md"
        requirements:
          - id: "opentracing_create_shim"
            name: "Create OpenTracing Shim"
            status: "Stable"
            optional: false
            spec_url: "specification/compatibility/opentracing.md#create-an-opentracing-tracer-shim"
          - id: "opentracing_tracer"
            name: "Tracer"
            status: "Stable"
            optional: false
            spec_url: "specification/compatibility/opentracing.md#tracer-shim"
          - id: "opentracing_span"
            name: "Span"
            status: "Stable"
            optional: false
            spec_url: "specification/compatibility/opentracing.md#span-shim"
